var Ze=Object.defineProperty;var Ye=(u,i,o)=>i in u?Ze(u,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[i]=o;var q=(u,i,o)=>Ye(u,typeof i!="symbol"?i+"":i,o);import{_ as Ge}from"./C3d_DK6E.js";import{E as Je,G as V,r as g,H as et,I as tt,J as st,K as at,z as Be,f as H,L as ge,M as ot,N as nt,D as rt,y as te,O as A,P as it,Q as lt,e as ct,u as ut,k as dt,c as _,a as s,h as M,R as vt,S as ye,g as re,d as _e,t as $,F as K,p as W,A as ie,i as mt,v as ht,T as pt,B as ft,o as f,b as we,w as be}from"./D1iNbD-i.js";import{_ as gt,a as yt}from"./BA0to53R.js";import"./BbCOxZKf.js";import{u as J,a as le,b as ce,c as _t,d as wt}from"./DoPRmHpb.js";import{u as ee}from"./-80ydLg_.js";import{s as bt,u as E}from"./DQ2dyhc-.js";import"./_d1bhYXs.js";const xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Bt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",L=[];class Pt{constructor(){q(this,"_data",new j);q(this,"_hash",new j([...xt]));q(this,"_nDataBytes",0);q(this,"_minBufferSize",0)}finalize(i){i&&this._append(i);const o=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(o/4294967296),this._data.words[(r+64>>>9<<4)+15]=o,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(i,o){const r=this._hash.words;let n=r[0],l=r[1],p=r[2],P=r[3],x=r[4],C=r[5],S=r[6],v=r[7];for(let y=0;y<64;y++){if(y<16)L[y]=i[o+y]|0;else{const d=L[y-15],O=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,w=L[y-2],Q=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;L[y]=O+L[y-7]+Q+L[y-16]}const k=x&C^~x&S,D=n&l^n&p^l&p,I=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),h=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),b=v+h+k+Bt[y]+L[y],B=I+D;v=S,S=C,C=x,x=P+b|0,P=p,p=l,l=n,n=b+B|0}r[0]=r[0]+n|0,r[1]=r[1]+l|0,r[2]=r[2]+p|0,r[3]=r[3]+P|0,r[4]=r[4]+x|0,r[5]=r[5]+C|0,r[6]=r[6]+S|0,r[7]=r[7]+v|0}_append(i){typeof i=="string"&&(i=j.fromUtf8(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes}_process(i){let o,r=this._data.sigBytes/64;i?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const n=r*16,l=Math.min(n*4,this._data.sigBytes);if(n){for(let p=0;p<n;p+=16)this._doProcessBlock(this._data.words,p);o=this._data.words.splice(0,n),this._data.sigBytes-=l}return new j(o,l)}}class j{constructor(i,o){q(this,"words");q(this,"sigBytes");i=this.words=i||[],this.sigBytes=o===void 0?i.length*4:o}static fromUtf8(i){const o=unescape(encodeURIComponent(i)),r=o.length,n=[];for(let l=0;l<r;l++)n[l>>>2]|=(o.charCodeAt(l)&255)<<24-l%4*8;return new j(n,r)}toBase64(){const i=[];for(let o=0;o<this.sigBytes;o+=3){const r=this.words[o>>>2]>>>24-o%4*8&255,n=this.words[o+1>>>2]>>>24-(o+1)%4*8&255,l=this.words[o+2>>>2]>>>24-(o+2)%4*8&255,p=r<<16|n<<8|l;for(let P=0;P<4&&o*8+P*6<this.sigBytes*8;P++)i.push(Ct.charAt(p>>>6*(3-P)&63))}return i.join("")}concat(i){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let o=0;o<i.sigBytes;o++){const r=i.words[o>>>2]>>>24-o%4*8&255;this.words[this.sigBytes+o>>>2]|=r<<24-(this.sigBytes+o)%4*8}else for(let o=0;o<i.sigBytes;o+=4)this.words[this.sigBytes+o>>>2]=i.words[o>>>2];this.sigBytes+=i.sigBytes}}function kt(u){return new Pt().finalize(u).toBase64()}function Dt(u){return kt(bt(u))}const $t=u=>u==="defer"||u===!1;function St(...u){var I;const i=typeof u[u.length-1]=="string"?u.pop():void 0;typeof u[0]!="string"&&u.unshift(i);let[o,r,n={}]=u;if(typeof o!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const l=Je(),p=r,P=()=>V.value,x=()=>l.isHydrating?l.payload.data[o]:l.static.data[o];n.server??(n.server=!0),n.default??(n.default=P),n.getCachedData??(n.getCachedData=x),n.lazy??(n.lazy=!1),n.immediate??(n.immediate=!0),n.deep??(n.deep=V.deep),n.dedupe??(n.dedupe="cancel");const C=n.getCachedData(o,l),S=C!=null;if(!l._asyncData[o]||!n.immediate){(I=l.payload._errors)[o]??(I[o]=V.errorValue);const h=n.deep?g:et;l._asyncData[o]={data:h(S?C:n.default()),pending:g(!S),error:tt(l.payload._errors,o),status:g("idle"),_default:n.default}}const v={...l._asyncData[o]};delete v._default,v.refresh=v.execute=(h={})=>{if(l._asyncDataPromises[o]){if($t(h.dedupe??n.dedupe))return l._asyncDataPromises[o];l._asyncDataPromises[o].cancelled=!0}if(h._initial||l.isHydrating&&h._initial!==!1){const B=h._initial?C:n.getCachedData(o,l);if(B!=null)return Promise.resolve(B)}v.pending.value=!0,v.status.value="pending";const b=new Promise((B,d)=>{try{B(p(l))}catch(O){d(O)}}).then(async B=>{if(b.cancelled)return l._asyncDataPromises[o];let d=B;n.transform&&(d=await n.transform(B)),n.pick&&(d=It(d,n.pick)),l.payload.data[o]=d,v.data.value=d,v.error.value=V.errorValue,v.status.value="success"}).catch(B=>{if(b.cancelled)return l._asyncDataPromises[o];v.error.value=nt(B),v.data.value=rt(n.default()),v.status.value="error"}).finally(()=>{b.cancelled||(v.pending.value=!1,delete l._asyncDataPromises[o])});return l._asyncDataPromises[o]=b,l._asyncDataPromises[o]},v.clear=()=>Tt(l,o);const y=()=>v.refresh({_initial:!0}),k=n.server!==!1&&l.payload.serverRendered;{const h=st();if(h&&k&&n.immediate&&!h.sp&&(h.sp=[]),h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const d=h._nuxtOnBeforeMountCbs;at(()=>{d.forEach(O=>{O()}),d.splice(0,d.length)}),Be(()=>d.splice(0,d.length))}k&&l.isHydrating&&(v.error.value||C!=null)?(v.pending.value=!1,v.status.value=v.error.value?"error":"success"):h&&(l.payload.serverRendered&&l.isHydrating||n.lazy)&&n.immediate?h._nuxtOnBeforeMountCbs.push(y):n.immediate&&y();const b=ot();if(n.watch){const d=H(n.watch,()=>v.refresh());b&&ge(d)}const B=l.hook("app:data:refresh",async d=>{(!d||d.includes(o))&&await v.refresh()});b&&ge(B)}const D=Promise.resolve(l._asyncDataPromises[o]).then(()=>v);return Object.assign(D,v),D}function Tt(u,i){i in u.payload.data&&(u.payload.data[i]=void 0),i in u.payload._errors&&(u.payload._errors[i]=V.errorValue),u._asyncData[i]&&(u._asyncData[i].data.value=void 0,u._asyncData[i].error.value=V.errorValue,u._asyncData[i].pending.value=!1,u._asyncData[i].status.value="idle"),i in u._asyncDataPromises&&(u._asyncDataPromises[i]&&(u._asyncDataPromises[i].cancelled=!0),u._asyncDataPromises[i]=void 0)}function It(u,i){const o={};for(const r of i)o[r]=u[r];return o}function ue(u,i,o){const[r={},n]=typeof i=="string"?[{},i]:[i,o],l=te(()=>A(u)),p=r.key||Dt([n,typeof l.value=="string"?l.value:"",...Mt(r)]);if(!p||typeof p!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+p);if(!u)throw new Error("[nuxt] [useFetch] request is missing.");const P=p===n?"$f"+p:p;if(!r.baseURL&&typeof l.value=="string"&&l.value[0]==="/"&&l.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:x,lazy:C,default:S,transform:v,pick:y,watch:k,immediate:D,getCachedData:I,deep:h,dedupe:b,...B}=r,d=it({...lt,...B,cache:typeof r.cache=="boolean"?void 0:r.cache}),O={server:x,lazy:C,default:S,transform:v,pick:y,immediate:D,getCachedData:I,deep:h,dedupe:b,watch:k===!1?[]:[d,l,...k||[]]};let w;return St(P,()=>{var Z;(Z=w==null?void 0:w.abort)==null||Z.call(w,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),w=typeof AbortController<"u"?new AbortController:{};const N=A(r.timeout);let F;return N&&(F=setTimeout(()=>w.abort(new DOMException("Request aborted due to timeout.","AbortError")),N),w.signal.onabort=()=>clearTimeout(F)),(r.$fetch||globalThis.$fetch)(l.value,{signal:w.signal,...d}).finally(()=>{clearTimeout(F)})},O)}function Mt(u){var o;const i=[((o=A(u.method))==null?void 0:o.toUpperCase())||"GET",A(u.baseURL)];for(const r of[u.params||u.query]){const n=A(r);if(!n)continue;const l={};for(const[p,P]of Object.entries(n))l[A(p)]=A(P);i.push(l)}return i}const xe=""+new URL("Logo.Dwb7m5aS.jpg",import.meta.url).href,Et=""+new URL("MainPageImage.DLVszyRh.jpg",import.meta.url).href,Ot=""+new URL("scrol.SYC4ZCKH.png",import.meta.url).href,Nt=""+new URL("CancerImage.SRmK37aL.png",import.meta.url).href,Ft={clas:"Navbar"},zt={class:"Container"},Rt={class:"Navbar-Menu"},Xt={key:0,class:"loading-overlay"},qt={class:"MainPageInfoBody"},Lt={class:"MainPageInfoScrol"},At={class:"MainPageInfo"},Ut={class:"DivInfoButton"},Kt={key:1,class:"CancerBody",style:{transition:"opacity 0.3s ease"}},Vt={class:"Cancer"},jt={key:0,id:"orderSuccessModal",class:"modal-success"},Wt={class:"modal-success-content"},Ht={class:"modal-success-OrderNumber"},Qt={class:"modal-success-ButtonModal"},Zt={key:1,id:"modal",class:"modal"},Yt={class:"SliderModal"},Gt={class:"SlidesModal"},Jt={class:"PageModal ActiveModal"},es={class:"ContainerModal"},ts={class:"ProductImageModal"},ss=["src"],as={class:"InfoProductModal"},os={class:"ProductNameModal"},ns={key:0,class:"ProductSizeModalBox"},rs={class:"hsixstyle"},is={class:"ProductOneOrderModalBox"},ls={class:"hsixstyle"},cs={class:"QuantityProductModal"},us=["onClick"],ds=["id","value","onInput"],vs=["onClick"],ms={class:"ProductSumPrice"},hs={id:"hfivestyle"},ps={class:"DeliteProductModal"},fs=["onClick"],gs={key:0,class:"skeleton-container"},ys={class:"ContactsModal"},_s={class:"NameBox"},ws={class:"EmailBox"},bs={class:"NumberBox"},xs={class:"TotalPrice"},Bs={key:0,class:"discount-info"},Cs={style:{color:"red"}},Ps={style:{"text-decoration":"line-through",color:"#999"}},ks={key:1,style:{"margin-top":"3px"}},Ds={class:"ButtonModal"},$s={key:0,class:"error-message"},Ss={key:1,class:"error-message"},Ts={key:2,class:"error-message-main"},Is={key:3,class:"error-message-main"},Ms={key:4,class:"error-message-main"},Es={class:"CategoriesBody"},Os={class:"CategoriesCenter"},Ns={class:"Categories",id:"section1"},Fs=["onClick"],zs={style:{"text-decoration":"none",color:"black"}},Rs={class:"slider"},Xs={class:"slides"},qs={class:"container"},Ls={class:"ProductPreview"},As=["src"],Us={class:"ProductName"},Ks={class:"Price"},Vs={class:"ProductButton"},js=["onClick"],Ws={class:"navigation"},Hs=["value","max"],oa=ct({__name:"index",setup(u){const{public:{apiBaseUrl:i}}=ut(),o=g(15),r=g(0),n=g({products:!0,categories:!0,basket:!0});g({products:!1,categories:!1,basket:!1});const l=g(!1),p=g(!1),P=g(null),x=g(!0),C=g(null),S=g(null),v=g(null),y=g(null),k=g(""),D=g(null),I=g(""),h=g(0),b=g(null);let B=null;ee(ce()),J(le());const d=g([]),O=g([]),w=g([]),Q=g(null),N=g(null),F=te(()=>Math.ceil(d.value.length/o.value)),se=te(()=>{const t=w.value.reduce((e,c)=>e+c["items-price"]*c["items-quantity"],0);return D.value&&h.value>0?t*(1-h.value/100):t}),Z=te(()=>w.value.reduce((t,e)=>t+e["items-price"]*e["items-quantity"],0)),U=t=>new Intl.NumberFormat("ru-RU",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t).replace(/\s/g,"."),de=t=>!t.items||t.items.length===0?0:Math.max(...t.items.map(e=>e["product-price"])),Ce=t=>!t.items||t.items.length===0?"1шт":t.items.reduce((c,a)=>c["product-price"]>a["product-price"]?c:a)["product-volume"],R=()=>{let t=localStorage.getItem("userId");return t||(t=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("userId",t)),t},ve=async()=>{try{n.value.products=!0;const t=await $fetch(`${i}/api/products`,{credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}});d.value=t||[],ne(),X(),n.value.products=!1}catch{n.value.products=!1}},Pe=async t=>{try{const e=await $fetch(`${i}/api/products/category/${t}`,{credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}});d.value=e||[],ne(),X()}catch{}},ke=async()=>{try{n.value.categories=!0;const t=await $fetch(`${i}/api/categories`,{credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}});O.value=t||[],n.value.categories=!1}catch{n.value.categories=!1}},Y=async()=>{const t=R();try{n.value.basket=!0;const e=await $fetch(`${i}/api/baskets/${t}`,{credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}});w.value=e.items||[],n.value.basket=!1}catch{n.value.basket=!1}},De=async t=>{var m;const e=R(),c=Ce(t),a=de(t);try{await $fetch(`${i}/api/baskets/add`,{method:"POST",body:{userId:e,"items-product-id":t._id,"items-product-name":`${t["product-name"]}`,"items-quantity":1,"items-price":a,"items-product-image":t["product-image"],"items-product-volume":c,"items-has-volume":((m=t.items)==null?void 0:m.length)>1},credentials:"include",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":E("csrf").value}}),await Y()}catch{}},ae=async(t,e,c)=>{e<1?e=1:e>99&&(e=99);try{await ue(`${i}/api/baskets/update`,{method:"PUT",body:{userId:R(),"items-product-id":t,"items-quantity":e,"items-product-volume":c},credentials:"include",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":E("csrf").value}},"$77hSeXQoip"),await Y()}catch{}},$e=async(t,e)=>{try{await ue(`${i}/api/baskets/remove`,{method:"DELETE",body:{userId:R(),"items-product-id":t,"items-product-volume":e},credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}},"$jo3TmIigCs"),await Y()}catch{}},Se=async(t,e,c)=>{const a=c.target,m=parseInt(a.value,10);await ae(t,m,e)},Te=async()=>{if(!k.value){D.value=null,I.value="",h.value=0;return}try{const{data:t}=await ue(`${i}/api/promocodes/validate`,{method:"POST",body:{promocode:k.value.trim()},credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}},"$5CCpHMyWtP");t.value&&(D.value=t.value.valid,I.value=t.value.message,h.value=t.value.valid?t.value.discount:0,t.value.valid?b.value=null:b.value=t.value.message)}catch{D.value=!1,I.value="Ошибка при проверке промокода",h.value=0,b.value="Ошибка при проверке промокода"}},Ie=()=>{B&&clearTimeout(B),k.value=Ee(k.value),B=setTimeout(()=>{k.value.trim()!==""?Te():(D.value=null,I.value="",h.value=0,b.value=null)},1e3)},Me=t=>!/[^a-zA-Zа-яА-Я0-9\s]/.test(t),Ee=t=>t.replace(/[^a-zA-Zа-яА-Я0-9\s]/g,""),me=t=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=["gmail.com","mail.ru","yandex.ru","yahoo.com"];if(!e.test(t))return x.value=!1,!1;const a=t.split("@")[1];return c.includes(a)?(x.value=!0,!0):(x.value=!1,!1)},Oe=t=>t.replace(/\D/g,"").length!==11?(v.value="Не допустимый формат номера телефона",!1):(v.value=null,!0),Ne=t=>{const e=(""+t).replace(/\D/g,"");if(e.startsWith("+")){const a=e.match(/^\+(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);if(a){let m="+";return a[1]&&(m+=` (${a[1]}`),a[2]&&(m+=`) ${a[2]}`),a[3]&&(m+=`-${a[3]}`),a[4]&&(m+=`-${a[4]}`),m}}const c=e.match(/^(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);if(c){let a="+";return c[1]&&(a+=`${c[1]}`),c[2]&&(a+=` (${c[2]}`),c[3]&&(a+=`) ${c[3]}`),c[4]&&(a+=`-${c[4]}`),c[5]&&(a+=`-${c[5]}`),a}return"+"},Fe=t=>{const e=t.target.value;me(e),Ke(),Ue()},ze=t=>{const e=t.target,c=e.value;/^[a-zA-Z0-9@.]*$/.test(c)||(e.value=c.replace(/[^a-zA-Z0-9@.]/g,"")),Fe(t)},Re=t=>{const e=t.target,c=e.value;/^[a-zA-Zа-яА-Я\s]*$/.test(c)||(e.value=c.replace(/[^a-zA-Zа-яА-Я\s]/g,""))},Xe=t=>{const e=t.target,c=Ne(e.value);e.value=c},qe=t=>{const e=t.target;e.value.startsWith("+")||(e.value="+")},Le=t=>{const e=t.target;e.value==="+"&&(e.value="")},Ae=t=>{const e=t.target,c=e.value;/^[0-9]*$/.test(c)||(e.value=c.replace(/[^0-9]/g,"")),Xe(t)},Ue=()=>{C.value=null},Ke=()=>{S.value=null},oe=()=>{const t=window.innerWidth;t<=1023?o.value=6:t<=1279?o.value=9:t<=1539?o.value=12:o.value=15},Ve=t=>{const e=t*o.value,c=e+o.value;return d.value.slice(e,c)},X=()=>{const t=document.querySelector(".slides"),e=document.querySelectorAll(".page");if(e.length>0){const c=e[0].clientWidth;t.style.transform=`translateX(-${r.value*c}px)`}ne(),je()},ne=()=>{const t=document.querySelector(".nav-btn.prev"),e=document.querySelector(".nav-btn.next");t&&e&&(t.disabled=r.value===0,t.style.backgroundColor=r.value===0?"gray":"red",e.disabled=r.value===F.value-1,e.style.backgroundColor=r.value===F.value-1?"gray":"red")},je=()=>{const t=document.querySelector(".page-input");t&&(t.value=(r.value+1).toString(),t.style.backgroundColor="")},he=()=>{const t=document.querySelector(".page-input");if(t){const e=parseInt(t.value,10)-1;if(e>=0&&e<F.value){const c=document.querySelector(".slides"),m=document.querySelectorAll(".page")[0].clientWidth,T=Math.abs(r.value-e),z=Math.min(.5+T*.2,3);c.style.transition=`transform ${z}s ease-in-out`,r.value=e,c.style.transform=`translateX(-${r.value*m}px)`,X()}else t.style.backgroundColor="#ffcccc"}},pe=()=>{const t=document.querySelector(".slides"),c=document.querySelectorAll(".page")[0].clientWidth;t.style.transition="none",t.style.transform=`translateX(-${r.value*c}px)`,setTimeout(()=>{t.style.transition=""},0)},fe=t=>{const e=document.querySelector(".slides"),a=document.querySelectorAll(".page")[0].clientWidth;t==="prev"&&r.value>0?r.value-=1:t==="next"&&r.value<F.value-1&&(r.value+=1),e.style.transform=`translateX(-${r.value*a}px)`,X()},We=async()=>{const t=R();try{const e=await $fetch(`${i}/api/orders?userId=${t}`,{credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}});if(!e)return y.value=null,!0;const a=(Array.isArray(e)?e:[e]).find(m=>{try{return m&&m["order-status"]&&m["order-status"]!=="Готов"}catch{return!1}});if(a){const m=a.orderNumber||a._id;return y.value=`У вас уже есть активный заказ #${a.orderNumber}!`,!1}return y.value=null,!0}catch{return y.value="Ошибка при проверке активного заказа",!1}},He=async()=>{if(!await We())return;const e=document.getElementById("NameTextBox").value,c=document.getElementById("EmailTextBox").value,a=document.getElementById("NumberTextBox").value,m=k.value;if(!e||!c||!a){C.value="Пожалуйста, заполните все поля";return}if(!/^[a-zA-Zа-яА-Я\s]+$/.test(e)){C.value="Имя может содержать только буквы и пробелы";return}if(!me(c)){S.value="Неверный формат электронной почты";return}if(Oe(a)){if(m&&!Me(m)){b.value="Недопустимые символы в промокоде";return}if(m&&!D.value){b.value="Неверный промокод";return}try{const T=await $fetch(`${i}/api/orders`,{method:"POST",body:{userId:R(),items:w.value.map(z=>({"items-product-id":z["items-product-id"],"items-product-name":z["items-product-name"],"items-quantity":z["items-quantity"],"items-price":z["items-price"],"items-product-image":z["items-product-image"],"items-product-volume":z["items-product-volume"],"items-has-volume":z["items-has-volume"]})),"order-name":e,"order-gmail":c,"order-phone":a,"order-promocode":m||null,"order-discount":h.value||0},credentials:"include",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":E("csrf").value}});await $fetch(`${i}/api/baskets/${R()}`,{method:"DELETE",credentials:"include",headers:{"X-XSRF-TOKEN":E("csrf").value}}),w.value=[],T&&(P.value=T.orderNumber,l.value=!1,p.value=!0),k.value="",D.value=null,I.value="",h.value=0}catch{alert("Произошла ошибка при создании заказа")}}},G=t=>{const e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})},Qe=(t,e)=>{t&&(Q.value=t,r.value=0,e==="Все"?(ve(),ee(ce()),J(le())):(Pe(t),ee(_t(e,d.value.length)),J(wt(e,d.value.length))),X())};return H(C,t=>{N.value&&N.value.classList.toggle("with-error",!!t)}),H(b,t=>{N.value&&N.value.classList.toggle("with-error",!!t)}),H(S,t=>{N.value&&N.value.classList.toggle("with-error",!!t)}),H(o,()=>{X()}),dt(()=>{ve(),ke(),Y(),oe(),X(),ee(ce()),J(le()),window.addEventListener("resize",oe),window.addEventListener("resize",pe)}),Be(()=>{window.removeEventListener("resize",oe),window.removeEventListener("resize",pe)}),(t,e)=>{const c=Ge;return f(),_(K,null,[e[24]||(e[24]=s("link",{rel:"icon",href:"../image/IcoL.ico",type:"image/x-icon"},null,-1)),s("nav",Ft,[s("div",zt,[e[11]||(e[11]=s("a",{href:"/",class:"Navbar-Logo"},[s("img",{src:xe,loading:"lazy",style:{width:"160px",height:"100px","object-fit":"cover"}})],-1)),s("ul",Rt,[e[10]||(e[10]=s("li",null,[s("a",{href:"/"},"Главная")],-1)),s("li",null,[s("a",{href:"#section1",onClick:e[0]||(e[0]=re(a=>G("section1"),["prevent"]))},"Магазин")]),s("li",null,[s("a",{href:"#section2",onClick:e[1]||(e[1]=re(a=>G("section2"),["prevent"]))},"О компании")]),s("li",null,[s("a",{class:"LastA",href:"#section3",onClick:e[2]||(e[2]=re(a=>G("section3"),["prevent"]))},"Контакты")])])])]),n.value.products||n.value.categories?(f(),_("div",Xt,e[12]||(e[12]=[s("div",{class:"loading-spinner"},null,-1)]))):M("",!0),e[25]||(e[25]=s("div",{class:"DivImage"},[s("img",{src:Et,style:{width:"100%",height:"100%","object-fit":"cover"},alt:"Автохимия - интернет-магазин автомобильных товаров",itemprop:"image"}),s("div",{class:"PageInfoFooter"},[s("img",{src:Ot,style:{width:"50px",height:"45px"}})])],-1)),s("div",qt,[s("div",Lt,[s("div",At,[e[13]||(e[13]=s("h1",{class:"NameStore"},"Авто-химия",-1)),e[14]||(e[14]=s("div",{class:"InfoStore"},[s("h2",{class:"InfoStoreText"},[_e("Автохимия и расходные материалы для ремонта (очистители, смазки, герметики, ахо, укрывочная продукция, метизы и прочее.) "),s("p",{class:"InfoStoreTextTwo"},"Выкупим неликвид с вашего склада на выгодных условиях")])],-1)),s("div",Ut,[s("button",{class:"InfoButton",onClick:e[3]||(e[3]=a=>G("section1"))},"Каталог")])])])]),w.value.length>0?(f(),_("div",Kt,[s("div",Vt,[s("img",{id:"CancerImage",alt:"",src:Nt,loading:"lazy",onClick:e[4]||(e[4]=a=>l.value=!0)})])])):M("",!0),(f(),vt(pt,{to:"body"},[p.value?(f(),_("div",jt,[s("div",Wt,[e[15]||(e[15]=s("div",{class:"modal-success-ModalTitle"},[s("h1",{class:"modal-success-modaltitle"},"Ваш заказ успешно создан!")],-1)),s("div",Ht,[s("p",null,"Номер вашего заказа: #"+$(P.value),1)]),s("div",Qt,[s("button",{id:"modal-success-BtnModal",onClick:e[5]||(e[5]=a=>p.value=!1)},"Закрыть")])])])):M("",!0),l.value?(f(),_("div",Zt,[s("div",{class:"modal-content",ref_key:"modalContent",ref:N},[s("span",{class:"close",onClick:e[6]||(e[6]=a=>l.value=!1)},"×"),e[21]||(e[21]=s("div",{class:"ModalTitle"},[s("h1",{class:"modaltitle"},"Ваш заказ:")],-1)),s("div",Yt,[s("div",Gt,[s("div",Jt,[s("div",es,[(f(!0),_(K,null,W(w.value,(a,m)=>(f(),_("div",{key:a._id,class:"itemModal"},[s("div",ts,[we(c,{to:`/product/${a["items-product-id"]}?volume=${a["items-product-volume"]}`},{default:be(()=>[s("img",{src:a["items-product-image"],style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,ss)]),_:2},1032,["to"])]),s("div",as,[s("h4",os,$(a["items-product-name"]),1),a["items-has-volume"]?(f(),_("div",ns,[s("h5",rs,"Размер: "+$(a["items-product-volume"]),1)])):M("",!0),s("div",is,[s("h5",ls,$(U(a["items-price"]))+"р/шт",1)]),s("div",cs,[s("button",{onClick:T=>ae(a["items-product-id"],a["items-quantity"]-1,a["items-product-volume"]),class:"BtnsQuantity"},"-",8,us),s("input",{type:"number",id:`quantity${m}`,class:"quantitystye",value:a["items-quantity"],onInput:T=>Se(a["items-product-id"],a["items-product-volume"],T),min:"1"},null,40,ds),s("button",{onClick:T=>ae(a["items-product-id"],a["items-quantity"]+1,a["items-product-volume"]),class:"BtnsQuantity Plus"},"+",8,vs)])]),s("div",ms,[s("h4",hs,$(U(a["items-price"]*a["items-quantity"]))+" Руб.",1)]),s("div",ps,[s("button",{onClick:T=>$e(a["items-product-id"],a["items-product-volume"]),class:"BtnsDeliteProductModal"},"X",8,fs)])]))),128))])])])]),n.value.products?(f(),_("div",gs,[(f(!0),_(K,null,W(o.value,a=>(f(),_("div",{key:a,class:"skeleton-item"},e[16]||(e[16]=[s("div",{class:"skeleton-image"},null,-1),s("div",{class:"skeleton-text"},null,-1),s("div",{class:"skeleton-text short"},null,-1),s("div",{class:"skeleton-button"},null,-1)])))),128))])):M("",!0),s("div",ys,[s("div",_s,[e[17]||(e[17]=s("h2",{class:"htwostyle"},"Ваше имя:",-1)),s("input",{id:"NameTextBox",type:"text",placeholder:"",onInput:Re},null,32)]),s("div",ws,[e[18]||(e[18]=s("h2",{class:"htwostyle"},"Ваша почта:",-1)),s("input",{id:"EmailTextBox",type:"text",placeholder:"",onInput:ze,class:ie({"invalid-email":!x.value})},null,34)]),s("div",bs,[e[19]||(e[19]=s("h2",{class:"htwostyle"},"Ваш телефон:",-1)),s("input",{id:"NumberTextBox",type:"text",placeholder:"+7 (918) 000-00-00",onBlur:Le,onInput:Ae,onFocus:qe},null,32)])]),s("div",xs,[e[20]||(e[20]=s("h3",{class:"SumModal"},"Сумма:",-1)),D.value&&h.value>0?(f(),_("div",Bs,[s("h3",Cs,$(U(se.value))+" р",1),s("h3",Ps,$(U(Z.value))+" р",1)])):(f(),_("h3",ks,$(U(se.value))+" р",1)),mt(s("input",{id:"PromoTextBox",type:"text",class:ie(["input-promocode-style",{"invalid-promocode":D.value===!1}]),placeholder:"ПРОМОКОД","onUpdate:modelValue":e[7]||(e[7]=a=>k.value=a),onInput:Ie},null,34),[[ht,k.value]])]),s("div",Ds,[s("button",{id:"BtnModal",onClick:He},"Оформить заказ"),b.value?(f(),_("div",$s,$(b.value),1)):M("",!0),C.value?(f(),_("div",Ss,$(C.value),1)):M("",!0),S.value?(f(),_("div",Ts,$(S.value),1)):M("",!0),v.value?(f(),_("div",Is,$(v.value),1)):M("",!0),y.value?(f(),_("div",Ms,$(y.value),1)):M("",!0)])],512)])):M("",!0)])),s("div",Es,[s("div",Os,[s("div",Ns,[(f(!0),_(K,null,W(O.value,(a,m)=>(f(),_("div",{class:"Сategory",key:m,onClick:T=>Qe(a._id,a["categories-name"])},[s("a",zs,$(a["categories-name"]),1)],8,Fs))),128))])])]),s("div",Rs,[s("div",Xs,[(f(!0),_(K,null,W(F.value,a=>(f(),_("div",{key:a,class:ie(["page",{active:r.value===a-1}])},[s("div",qs,[(f(!0),_(K,null,W(Ve(a-1),(m,T)=>(f(),_("div",{class:"item",key:T},[s("div",Ls,[we(c,{to:`/product/${m._id}`},{default:be(()=>[s("img",{src:m["product-image"],style:{width:"100%",height:"100%"},loading:"lazy"},null,8,As)]),_:2},1032,["to"])]),s("div",Us,$(m["product-name"]),1),s("div",Ks,[_e($(U(de(m)))+"р",1),e[22]||(e[22]=s("p",{class:"quantity"},"/1шт",-1))]),s("div",Vs,[s("button",{class:"ProductBtn",onClick:z=>De(m)},"Добавить в корзину",8,js)])]))),128))])],2))),128)),e[23]||(e[23]=s("div",{class:"slider-gradient"},null,-1))]),s("div",Ws,[s("button",{class:"nav-btn prev",onClick:e[8]||(e[8]=a=>fe("prev"))},"<"),s("input",{class:"page-input",type:"number",value:r.value+1,onInput:he,onKeyup:ft(he,["enter"]),min:"1",max:F.value},null,40,Hs),s("button",{class:"nav-btn next",onClick:e[9]||(e[9]=a=>fe("next"))},">")])]),e[26]||(e[26]=ye('<div class="AboutUsBody" id="section2"><div class="AboutUsOllContent"><div class="AboutUsContent"><div class="AboutUsOllText"><div class="AboutUsTitle"><h1>О компании</h1></div><div class="AboutUsText"><h2>Мы занимаемся поставками расходных материалов для ремонта в автосалоны, автосервисы, автотранспортные предприятия так, чтобы Вы о них не думали. С радостью возьмем на себя ненужную вам рутину по поиску и доставке материалов для ремонта по самым выгодным ценам. Для нас важно, чтобы с нами вы заработали больше!</h2></div></div><div class="AboutUsLogoContent"><div class="AboutUsLogo"><img class="AboutUsImage" src="'+xe+'" loading="lazy"></div></div></div></div></div>',1)),e[27]||(e[27]=s("div",{class:"YandexMapBody",id:"section3"},[s("div",{class:"YandexMapContent"},[s("div",{style:{position:"relative",overflow:"hidden"}},[s("a",{href:"https://yandex.ru/maps/35/krasnodar/?utm_medium=mapframe&utm_source=maps",style:{color:"#eee","font-size":"12px",position:"absolute",top:"0px"}},"Краснодар"),s("a",{href:"https://yandex.ru/maps/35/krasnodar/house/magistralnaya_ulitsa_11k3/Z0AYdgBgQEYOQFpvfXxyc3pqZw==/services/?ll=39.071508%2C45.032397&tab=services&utm_medium=mapframe&utm_source=maps&z=19.4",style:{color:"#eee","font-size":"12px",position:"absolute",top:"14px"}},"Магистральная улица, 11к3 — Яндекс Карты"),s("iframe",{class:"YandexMap",src:"https://yandex.ru/map-widget/v1/?ll=39.071508%2C45.032397&mode=whatshere&tab=services&whatshere%5Bpoint%5D=39.070931%2C45.032465&whatshere%5Bzoom%5D=17&z=19.4",width:"800",height:"450",frameborder:"1",allowfullscreen:"true",style:{position:"relative"}})])])],-1)),e[28]||(e[28]=ye('<div class="FooterBody"><div class="FooterBodyContent"><div class="FooterContacts"><h2 class="FooterTitle">Краснодар:</h2><div class="FooterTextContent"><p class="FooterText">+7(928)660-97-79</p><p class="FooterText">+7(928)227-55-15</p><p class="FooterText">+7(967)660-09-51</p><p class="FooterText">+7(967)660-09-47</p><p class="FooterText gmail">info@himautopro.ru</p></div></div><div class="FooterSocial"><div class="FooterSocialContent"><div class="Social"><img src="'+gt+'" loading="lazy" style="width:45px;"><img src="'+yt+'" loading="lazy" style="width:45px;"></div></div></div></div></div>',1))],64)}}});export{oa as default};
